<!DOCTYPE html>
<html lang="en-US">
  <head>
    <title>Frequently Asked Questions | abcjs</title><meta name="description" content="JavaScript library for displaying sheet music in a browser."><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="generator" content="VuePress 2.0.0-beta.7">
    <link rel="preload" href="/abcjs/assets/js/runtime~app.4dfa3f90.js" as="script"><link rel="preload" href="/abcjs/assets/css/styles.80af813e.css" as="style"><link rel="preload" href="/abcjs/assets/js/310.c04019dd.js" as="script"><link rel="preload" href="/abcjs/assets/js/app.f2f640cf.js" as="script">
    <link rel="stylesheet" href="/abcjs/assets/css/styles.80af813e.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><header class="navbar"><div class="toggle-sidebar-button"><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class=""></path></svg></div><span><a href="/abcjs/" class=""><img class="logo" src="/abcjs//img/abcjs_comp_extended_08.svg" alt="abcjs"><span class="site-name can-hide">abcjs</span></a></span><div class="navbar-links-wrapper" style=""><!--[--><!--]--><!----><!--[--><!--]--><!----></div></header><div class="sidebar-mask"></div><aside class="sidebar"><!----><!--[--><!--]--><ul class="sidebar-links"><!--[--><!--[--><section class="sidebar-group"><p class="sidebar-heading active">Overview</p><ul class=""><li><!--[--><a href="/abcjs/overview/purpose.html" class="nav-link sidebar-link" aria-label="Purpose"><!--[--><!--]--> Purpose <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/abcjs/overview/examples.html" class="nav-link sidebar-link" aria-label="Examples"><!--[--><!--]--> Examples <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/abcjs/overview/getting-started.html" class="nav-link sidebar-link" aria-label="Getting Started"><!--[--><!--]--> Getting Started <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/abcjs/overview/example-generator.html" class="nav-link sidebar-link" aria-label="Example Generator"><!--[--><!--]--> Example Generator <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/abcjs/overview/abc-notation.html" class="nav-link sidebar-link" aria-label="ABC Music Notation"><!--[--><!--]--> ABC Music Notation <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/abcjs/overview/faq.html" class="router-link-active router-link-exact-active nav-link router-link-active sidebar-link active" aria-label="Frequently Asked Questions"><!--[--><!--]--> Frequently Asked Questions <!--[--><!--]--></a><ul class="sidebar-sub-headers"><li><!--[--><a aria-current="page" href="/abcjs/overview/faq.html#how-do-i-make-a-playback-widget" class="router-link-active router-link-exact-active nav-link sidebar-link" aria-label="How do I make a playback widget?"><!--[--><!--]--> How do I make a playback widget? <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/abcjs/overview/faq.html#which-scripts-do-i-need-to-include" class="router-link-active router-link-exact-active nav-link sidebar-link" aria-label="Which scripts do I need to include?"><!--[--><!--]--> Which scripts do I need to include? <!--[--><!--]--></a><ul class="sidebar-sub-headers"><li><!--[--><a aria-current="page" href="/abcjs/overview/faq.html#for-node" class="router-link-active router-link-exact-active nav-link sidebar-link" aria-label="For node:"><!--[--><!--]--> For node: <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/abcjs/overview/faq.html#for-plain-javascript" class="router-link-active router-link-exact-active nav-link sidebar-link" aria-label="For plain javascript:"><!--[--><!--]--> For plain javascript: <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li><li><!--[--><a aria-current="page" href="/abcjs/overview/faq.html#how-do-i-use-the-sound-fonts-i-have-saved-locally-in-my-abcjs-project" class="router-link-active router-link-exact-active nav-link sidebar-link" aria-label="How do I use the sound fonts I have saved locally in my ABCJS project?"><!--[--><!--]--> How do I use the sound fonts I have saved locally in my ABCJS project? <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/abcjs/overview/faq.html#i-m-trying-to-get-the-names-of-notes-on-click-and-it-doesn-t-work-i-ve-got-a-visual-rendering-of-my-tune-but-no-playback-widget" class="router-link-active router-link-exact-active nav-link sidebar-link" aria-label="I’m trying to get the names of notes on click and it doesn’t work. I’ve got a visual rendering of my tune, but no playback widget."><!--[--><!--]--> I’m trying to get the names of notes on click and it doesn’t work. I’ve got a visual rendering of my tune, but no playback widget. <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/abcjs/overview/faq.html#can-i-use-abcjs-in-react-native-other-mobile-development-frameworks" class="router-link-active router-link-exact-active nav-link sidebar-link" aria-label="Can I use ABCJS in React Native/other mobile development frameworks?"><!--[--><!--]--> Can I use ABCJS in React Native/other mobile development frameworks? <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/abcjs/overview/faq.html#how-do-i-use-abcjs-in-a-server-side-rendering-app" class="router-link-active router-link-exact-active nav-link sidebar-link" aria-label="How do I use ABCJS in a server-side rendering app?"><!--[--><!--]--> How do I use ABCJS in a server-side rendering app? <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/abcjs/overview/faq.html#why-do-i-have-to-wait-until-the-user-interacts-with-the-page-to-create-the-audio" class="router-link-active router-link-exact-active nav-link sidebar-link" aria-label="Why do I have to wait until the user interacts with the page to create the audio?"><!--[--><!--]--> Why do I have to wait until the user interacts with the page to create the audio? <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/abcjs/overview/faq.html#how-do-i-get-the-audio-to-start-right-away" class="router-link-active router-link-exact-active nav-link sidebar-link" aria-label="How do I get the audio to start right away?"><!--[--><!--]--> How do I get the audio to start right away? <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/abcjs/overview/faq.html#how-do-i-prevent-this-error-the-audiocontext-was-not-allowed-to-start-it-must-be-resumed-or-created-after-a-user-gesture-on-the-page" class="router-link-active router-link-exact-active nav-link sidebar-link" aria-label="How do I prevent this error?: “The AudioContext was not allowed to start. It must be resumed (or created) after a user gesture on the page.”"><!--[--><!--]--> How do I prevent this error?: “The AudioContext was not allowed to start. It must be resumed (or created) after a user gesture on the page.” <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/abcjs/overview/faq.html#i-want-to-replace-all-the-notes-with-custom-glyphs-symbols-how-can-i-do-that" class="router-link-active router-link-exact-active nav-link sidebar-link" aria-label="I want to replace all the notes with custom glyphs/symbols. How can I do that?"><!--[--><!--]--> I want to replace all the notes with custom glyphs/symbols. How can I do that? <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/abcjs/overview/faq.html#how-can-i-manipulate-the-horizontal-positioning-of-the-notes-—-e-g-if-i-want-the-notes-to-be-horizontally-centered" class="router-link-active router-link-exact-active nav-link sidebar-link" aria-label="How can I manipulate the horizontal positioning of the notes — e.g., if I want the notes to be horizontally centered?"><!--[--><!--]--> How can I manipulate the horizontal positioning of the notes — e.g., if I want the notes to be horizontally centered? <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/abcjs/overview/faq.html#i-m-having-difficulty-transposing-my-tune" class="router-link-active router-link-exact-active nav-link sidebar-link" aria-label="I’m having difficulty transposing my tune."><!--[--><!--]--> I’m having difficulty transposing my tune. <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li></ul></section><!--]--><!--[--><section class="sidebar-group"><p class="sidebar-heading">Visual</p><ul class=""><li><!--[--><a href="/abcjs/visual/overview.html" class="nav-link sidebar-link" aria-label="Overview (renderAbc)"><!--[--><!--]--> Overview (renderAbc) <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/abcjs/visual/render-abc-options.html" class="nav-link sidebar-link" aria-label="RenderAbc options"><!--[--><!--]--> RenderAbc options <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/abcjs/visual/render-abc-result.html" class="nav-link sidebar-link" aria-label="return value of renderAbc"><!--[--><!--]--> return value of renderAbc <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/abcjs/visual/classes.html" class="nav-link sidebar-link" aria-label="Classes"><!--[--><!--]--> Classes <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/abcjs/visual/click-listener.html" class="nav-link sidebar-link" aria-label="Click Listener"><!--[--><!--]--> Click Listener <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/abcjs/visual/dragging.html" class="nav-link sidebar-link" aria-label="Selecting and Dragging Elements"><!--[--><!--]--> Selecting and Dragging Elements <!--[--><!--]--></a><!----><!--]--></li></ul></section><!--]--><!--[--><section class="sidebar-group"><p class="sidebar-heading">Audio</p><ul class=""><li><!--[--><a href="/abcjs/audio/synthesized-sound.html" class="nav-link sidebar-link" aria-label="Synthesized Sound"><!--[--><!--]--> Synthesized Sound <!--[--><!--]--></a><!----><!--]--></li></ul></section><!--]--><!--[--><section class="sidebar-group"><p class="sidebar-heading">Animation</p><ul class=""><li><!--[--><a href="/abcjs/animation/timing-callbacks.html" class="nav-link sidebar-link" aria-label="Timing Callbacks"><!--[--><!--]--> Timing Callbacks <!--[--><!--]--></a><!----><!--]--></li></ul></section><!--]--><!--[--><section class="sidebar-group"><p class="sidebar-heading">Interactive</p><ul class=""><li><!--[--><a href="/abcjs/interactive/interactive-editor.html" class="nav-link sidebar-link" aria-label="Interactive Editor"><!--[--><!--]--> Interactive Editor <!--[--><!--]--></a><!----><!--]--></li></ul></section><!--]--><!--[--><section class="sidebar-group"><p class="sidebar-heading">Analysis</p><ul class=""><li><!--[--><a href="/abcjs/analysis/tune-book.html" class="nav-link sidebar-link" aria-label="Tune Book"><!--[--><!--]--> Tune Book <!--[--><!--]--></a><!----><!--]--></li></ul></section><!--]--><!--[--><section class="sidebar-group"><p class="sidebar-heading">Deprecated</p><ul class=""><li><!--[--><a href="/abcjs/deprecated/deprecated-api.html" class="nav-link sidebar-link" aria-label="Deprecated API Calls"><!--[--><!--]--> Deprecated API Calls <!--[--><!--]--></a><!----><!--]--></li></ul></section><!--]--><!--[--><section class="sidebar-group"><p class="sidebar-heading">Developers</p><ul class=""><li><!--[--><a href="/abcjs/developers/pull-requests.html" class="nav-link sidebar-link" aria-label="Pull Requests"><!--[--><!--]--> Pull Requests <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/abcjs/developers/basic-architecture.html" class="nav-link sidebar-link" aria-label="Basic Architecture"><!--[--><!--]--> Basic Architecture <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/abcjs/developers/releasing.html" class="nav-link sidebar-link" aria-label="Releasing"><!--[--><!--]--> Releasing <!--[--><!--]--></a><!----><!--]--></li></ul></section><!--]--><!--[--><section class="sidebar-group"><p class="sidebar-heading">Upgrading</p><ul class=""><li><!--[--><a href="/abcjs/upgrading/release-notes.html" class="nav-link sidebar-link" aria-label="Release Notes"><!--[--><!--]--> Release Notes <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/abcjs/upgrading/midijs.html" class="nav-link sidebar-link" aria-label="MIDI.JS Usage"><!--[--><!--]--> MIDI.JS Usage <!--[--><!--]--></a><!----><!--]--></li></ul></section><!--]--><!--]--></ul><!--[--><!--]--></aside><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="frequently-asked-questions"><a class="header-anchor" href="#frequently-asked-questions">#</a> Frequently Asked Questions</h1><h2 id="how-do-i-make-a-playback-widget"><a class="header-anchor" href="#how-do-i-make-a-playback-widget">#</a> How do I make a playback widget?</h2><p>See the <a href="/abcjs/audio/synthesizer-sandbox.html" class="">sandbox</a> to get started. You can tailor the audio control to your needs.</p><h2 id="which-scripts-do-i-need-to-include"><a class="header-anchor" href="#which-scripts-do-i-need-to-include">#</a> Which scripts do I need to include?</h2><h3 id="for-node"><a class="header-anchor" href="#for-node">#</a> For node:</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> abcjs --save-dev
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> abcjs <span class="token keyword">from</span> <span class="token string">&quot;abcjs&quot;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h3 id="for-plain-javascript"><a class="header-anchor" href="#for-plain-javascript">#</a> For plain javascript:</h3><p>Download the file <code>dist/abcjs-basic-min.js</code> to your project. Then at the top of your file:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;js/abcjs-basic-min.js&quot;</span> type<span class="token operator">=</span><span class="token string">&quot;text/javascript&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h2 id="how-do-i-use-the-sound-fonts-i-have-saved-locally-in-my-abcjs-project"><a class="header-anchor" href="#how-do-i-use-the-sound-fonts-i-have-saved-locally-in-my-abcjs-project">#</a> How do I use the sound fonts I have saved locally in my ABCJS project?</h2><p>See the <a href="/abcjs/audio/synthesizer-sandbox.html" class="">sandbox</a> to see the syntax.</p><h2 id="i-m-trying-to-get-the-names-of-notes-on-click-and-it-doesn-t-work-i-ve-got-a-visual-rendering-of-my-tune-but-no-playback-widget"><a class="header-anchor" href="#i-m-trying-to-get-the-names-of-notes-on-click-and-it-doesn-t-work-i-ve-got-a-visual-rendering-of-my-tune-but-no-playback-widget">#</a> I’m trying to get the names of notes on click and it doesn’t work. I’ve got a visual rendering of my tune, but no playback widget.</h2><p>There is some optional extra information that can be added to the music structure. This is added when creating the synth but it isn&#39;t added by default so that the code isn&#39;t unnecessarily executed for users who don&#39;t need it.</p><p>To add that information:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> visualObj <span class="token operator">=</span> abcjs<span class="token punctuation">.</span><span class="token function">renderAbc</span><span class="token punctuation">(</span> <span class="token operator">...</span> <span class="token punctuation">)</span>
visualObj<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">setUpAudio</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="can-i-use-abcjs-in-react-native-other-mobile-development-frameworks"><a class="header-anchor" href="#can-i-use-abcjs-in-react-native-other-mobile-development-frameworks">#</a> Can I use ABCJS in React Native/other mobile development frameworks?</h2><p>ABJS needs a DOM to 1) calculate how much space the notes will take up once rendered, and 2) render the notes as an SVG. This makes integrating ABCJS with frameworks like React Native that don’t use a DOM less than straightforward.</p><p>An approach by Matthew Dorner: His app, react-native-songbook, relies on react-native-svg (via standalone-vexflow-context) to draw to the SVG. You might also try experimenting with rendering the ABCJS elements in a React Native webview component, which supplies the required DOM, as a browser to an external page with ABCJS functionality, rather than as a native rendering engine. Kudos to @rpattcorner for this tip.</p><h2 id="how-do-i-use-abcjs-in-a-server-side-rendering-app"><a class="header-anchor" href="#how-do-i-use-abcjs-in-a-server-side-rendering-app">#</a> How do I use ABCJS in a server-side rendering app?</h2><p>If you are using Nuxt or Next or any other framework that builds the pages on the server before sending them to the client, you&#39;ll have to delay calling abcjs until you are in the client.</p><p>Here&#39;s an example:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> abcjs <span class="token operator">=</span> process<span class="token punctuation">.</span>browser <span class="token operator">?</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;abcjs&#39;</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>abcjs<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	abcjs<span class="token punctuation">.</span><span class="token function">renderAbc</span><span class="token punctuation">(</span> <span class="token operator">...</span> <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="why-do-i-have-to-wait-until-the-user-interacts-with-the-page-to-create-the-audio"><a class="header-anchor" href="#why-do-i-have-to-wait-until-the-user-interacts-with-the-page-to-create-the-audio">#</a> Why do I have to wait until the user interacts with the page to create the audio?</h2><p>Because browsers have placed constraints on AudioContexts to prevent developers from building websites that autoplay sound on page load, you can’t begin to buffer audio until the user makes some gesture on the page.</p><h2 id="how-do-i-get-the-audio-to-start-right-away"><a class="header-anchor" href="#how-do-i-get-the-audio-to-start-right-away">#</a> How do I get the audio to start right away?</h2><p>There is some network traffic and construction of the sound buffer that takes some time. This can be done a little bit ahead of time, so, as soon as the user interacts with the page and as soon as you know what music you want to play, you can begin the process. You&#39;ll notice that there are <code>init()</code> and <code>prime()</code> calls that return a promise. After those promises resolve clicking <code>play()</code> will be fast.</p><h2 id="how-do-i-prevent-this-error-the-audiocontext-was-not-allowed-to-start-it-must-be-resumed-or-created-after-a-user-gesture-on-the-page"><a class="header-anchor" href="#how-do-i-prevent-this-error-the-audiocontext-was-not-allowed-to-start-it-must-be-resumed-or-created-after-a-user-gesture-on-the-page">#</a> How do I prevent this error?: “The AudioContext was not allowed to start. It must be resumed (or created) after a user gesture on the page.”</h2><p>Don&#39;t call any audio-related functionality until the user has interacted with the page.</p><h2 id="i-want-to-replace-all-the-notes-with-custom-glyphs-symbols-how-can-i-do-that"><a class="header-anchor" href="#i-want-to-replace-all-the-notes-with-custom-glyphs-symbols-how-can-i-do-that">#</a> I want to replace all the notes with custom glyphs/symbols. How can I do that?</h2><p>After your call to renderAbc(), search for all items with the class &quot;abcjs-note&quot; and replace the path in them with your picture. For this to work, call renderAbc with the parameter { add_classes: true }. Notice there are other things you can search for, like the staff line of the note so you can have different pictures for different notes.</p><h2 id="how-can-i-manipulate-the-horizontal-positioning-of-the-notes-—-e-g-if-i-want-the-notes-to-be-horizontally-centered"><a class="header-anchor" href="#how-can-i-manipulate-the-horizontal-positioning-of-the-notes-—-e-g-if-i-want-the-notes-to-be-horizontally-centered">#</a> How can I manipulate the horizontal positioning of the notes — e.g., if I want the notes to be horizontally centered?</h2><p>You can use <code>%%staffwidth 400</code> to pick the number of pixels that the staff will take. You can experiment with that to get it to look right. You can also use <code>%%stretchlast</code> to stretch the last line of music out. Also, <code>staffwidth</code> can be passed in to the <code>renderAbc</code> function. Also, see the wrap.html demo.</p><h2 id="i-m-having-difficulty-transposing-my-tune"><a class="header-anchor" href="#i-m-having-difficulty-transposing-my-tune">#</a> I’m having difficulty transposing my tune.</h2><p>Visual and audio transposition are handled separately to suit situations where a musician might want the sheet music transposed but not the audio playback, and vice-versa. For examples of how to handle both forms of transposition, see basic-transpose.html and editor-transpose.html.</p><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><span class="meta-item-info">12/29/2020, 3:32:38 AM</span></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: paul@paulrosen.net">Paul Rosen</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"> ← <a href="/abcjs/overview/abc-notation.html" class="nav-link" aria-label="ABC Music Notation"><!--[--><!--]--> ABC Music Notation <!--[--><!--]--></a></span><!----></p></nav><!--[--><!--]--></main></div><!----><!--]--></div>
    <script src="/abcjs/assets/js/runtime~app.4dfa3f90.js" defer></script><script src="/abcjs/assets/js/310.c04019dd.js" defer></script><script src="/abcjs/assets/js/app.f2f640cf.js" defer></script>
  </body>
</html>
